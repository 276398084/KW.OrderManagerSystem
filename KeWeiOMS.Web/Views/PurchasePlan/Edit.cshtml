@model KeWeiOMS.Domain.PurchasePlanType
@{
    Layout = null;
}
<script type="text/javascript">
    $(function () {
        //这里写加载下拉列表、修改编辑控件的初始化值
	        $('#e_BuyBy').combobox({
          url: 'User/UserSrc',
          editable: true
      });

        $('#e_CreateBy').combobox({
          url: 'User/UserSrc',
          editable: true
      });


        $('#e_CreateOn').datebox();


        $('#e_BuyOn').datebox();


        $('#e_SendOn').datebox();


        $('#e_ReceiveOn').datebox();

        $('#e_Status').combobox({
            valueField: 'id',
            textField: 'text',
            panelHeight: 80,
            data: [{ id: 0, text: "已采购" }, { id: 1, text: "已发货" }, { id: 2, text: "已收到" }]
        });
        $('#e_Suppliers').combobox({
            url: '@Url.Action("GetSuppliers","PurchasePlan")',
            valueField: 'SuppliersName',
                    textField: 'SuppliersName',
                });
        $('#e_PlanNo').validatebox({
            required: true
        })
        $('#e_SKU').validatebox({
            required: true
        })
    });

    function SeachSKU() {
        var sku = $("#e_SKU").attr("value");
        $.getJSON('@Url.Action("SearchSKU","PurchasePlan")/' + sku, function (json) {
            if (json) {
                $("#e_ProductName").attr("value", json[0].ProductName);
                $("#e_PicUrl").attr("value", json[0].PicUrl);
                $("#e_ProductUrl").attr("value", json[0].SPicUrl);
            }
        })
    }
</script>
@using (Html.BeginForm("Edit", "PurchasePlan", FormMethod.Post, new { id = "e_form" }))
{
<fieldset>
<table class="editForm">
	<tr>
		<td style="display:none">
            @Html.TextBoxFor(model => model.Id,new{@id="e_Id"})
		</td>
	</tr>

	<tr>
		<td>
            @Html.LabelFor(model => model.PlanNo,"计划编号:")
		</td>
		<td>
            @Html.TextBoxFor(model => model.PlanNo,new{@id="e_PlanNo"})
		</td>
        		<td>
            @Html.LabelFor(model => model.PicUrl,"图片链接:")
		</td>
		<td>
            @Html.TextBoxFor(model => model.PicUrl,new{@id="e_PicUrl"})
		</td>
	</tr>

	<tr>
		<td>
            @Html.LabelFor(model => model.SKU,"SKU:")
		</td>
		<td>
            @Html.TextBoxFor(model => model.SKU,new{@id="e_SKU",onblur="SeachSKU()"})
		</td>
        <td>
            @Html.LabelFor(model => model.ProductUrl,"产品链接:")
		</td>
		<td>
            @Html.TextBoxFor(model => model.ProductUrl,new{@id="e_ProductUrl" })
		</td>
	</tr>

	<tr>
		<td>
            @Html.LabelFor(model => model.Price,"单价:")
		</td>
		<td>
            @Html.TextBoxFor(model => model.Price,new{@id="e_Price"})
		</td>
        		<td>
            @Html.LabelFor(model => model.Status,"状态:")
		</td>
		<td>
            @Html.TextBoxFor(model => model.Status,new{@id="e_Status"})
		</td>
	</tr>

	<tr>
		<td>
            @Html.LabelFor(model => model.Qty,"数量:")
		</td>
		<td>
            @Html.TextBoxFor(model => model.Qty,new{@id="e_Qty"})
		</td>
@*      <td>
            @Html.LabelFor(model => model.BuyOn,"采购时间:")
		</td>*@  
		<td style="display:none">
            @Html.TextBoxFor(model => model.BuyOn,new{@id="e_BuyOn"})
		</td>      		<td>
            @Html.LabelFor(model => model.SendOn,"发货时间:")
		</td>
		<td>
            @Html.TextBoxFor(model => model.SendOn,new{@id="e_SendOn"})
		</td>
	</tr>

	<tr>
		<td>
            @Html.LabelFor(model => model.Freight,"运费:")
		</td>
		<td>
            @Html.TextBoxFor(model => model.Freight,new{@id="e_Freight"})
		</td>
        		<td>
            @Html.LabelFor(model => model.ReceiveOn,"到货时间:")
		</td>
		<td>
            @Html.TextBoxFor(model => model.ReceiveOn,new{@id="e_ReceiveOn"})
		</td>
	</tr>

	<tr>
		<td>
            @Html.LabelFor(model => model.ProductName,"名称:")
		</td>
		<td>
            @Html.TextBoxFor(model => model.ProductName,new{@id="e_ProductName"})
		</td>

	</tr>

	<tr>
		<td>
            @Html.LabelFor(model => model.Suppliers,"供应商:")
		</td>
		<td>
            @Html.TextBoxFor(model => model.Suppliers,new{@id="e_Suppliers"})
		</td>
	</tr>

	<tr>
@*		<td>
            @Html.LabelFor(model => model.SId,"供应商ID:")
		</td>*@
		<td style="display:none">
            @Html.TextBoxFor(model => model.SId,new{@id="e_SId"})
		</td>
	</tr>

	<tr>
		<td>
            @Html.LabelFor(model => model.LogisticsMode,"发货方式:")
		</td>
		<td>
            @Html.TextBoxFor(model => model.LogisticsMode,new{@id="e_LogisticsMode"})
		</td>
	</tr>

	<tr>
		<td>
            @Html.LabelFor(model => model.TrackCode,"运单号:")
		</td>
		<td>
            @Html.TextBoxFor(model => model.TrackCode,new{@id="e_TrackCode"})
		</td>
	</tr>

	<tr>
		<td>
            @Html.LabelFor(model => model.PostStatus,"物流状态:")
		</td>
		<td>
            @Html.TextBoxFor(model => model.PostStatus,new{@id="e_PostStatus"})
		</td>
	</tr>

@*	<tr>
		<td>
            @Html.LabelFor(model => model.Status,"状态:")
		</td>
		<td>
            @Html.TextBoxFor(model => model.Status,new{@id="e_Status"})
		</td>
	</tr>*@


<tr>
@* <td>
            @Html.LabelFor(model => model.BuyBy,"采购人:")
		</td>
    *@
		<td style="display:none">
            @Html.TextBoxFor(model => model.BuyBy,new{@id="c_BuyBy"})
		</td>
	</tr>

<tr>
@*		<td>
            @Html.LabelFor(model => model.CreateBy,"生成人:")
		</td>*@
		<td style="display:none">
            @Html.TextBoxFor(model => model.CreateBy,new{@id="c_CreateBy"})
		</td>
	</tr>

	<tr>
@*		<td>
            @Html.LabelFor(model => model.CreateOn,"生成时间:")
		</td>*@
		<td style="display:none">
            @Html.TextBoxFor(model => model.CreateOn,new{@id="c_CreateOn"})
		</td>
	</tr>

    
</table>
</fieldset>
}
